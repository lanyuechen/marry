(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"+n12":function(t,e,n){"use strict";function c(){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return t=t.replace(/x/g,(function(){const t=16*Math.random()|0;return t.toString(16)})),t=t.replace("y",(16*Math.random()&3|8).toString(16)),t.replace(/-/g,"").substr(0,24)}function a(t,e){let n;return function(){n&&clearTimeout(n),n=setTimeout((()=>{t(...arguments)}),e)}}async function r(t){const e=await fetch(`./templates/${t}.json`);return e.json()}n.d(e,"c",(function(){return c})),n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return r}))},"42hf":function(t,e,n){t.exports={fill:"fill___3WFpF",bookCover:"bookCover___2DsAc",paper:"paper___2EG8l",book:"book___rQ9Ix",cover:"cover___1ECPG"}},4469:function(t,e,n){"use strict";n.d(e,"c",(function(){return m})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return v})),n.d(e,"e",(function(){return x})),n.d(e,"d",(function(){return b}));var c=n("XS3J"),a=n.n(c),r=n("+n12");const i="marry.db",o=Symbol.for("db-instance-key");class s{loadDatabase(t,e){try{const n=localStorage.getItem(t);e(n)}catch(n){e(n)}}saveDatabase(t,e,n){try{localStorage.setItem(t,e),n(null)}catch(c){n(c)}}}const u=new s;class l{static getInstance(){return window[o]||(window[o]=new l),window[o]}constructor(){this.db=new a.a(i,{env:"BROWSER",autosave:!0,adapter:u}),this.db.loadDatabase()}table(t){return this.collection=this.db.getCollection(t)||this.db.addCollection(t),this}find(t={}){return this.collection.find(t)}findOne(t={}){return this.collection.findOne(t)}insert(t){const e=Object(r["c"])();return this.collection.insert({...t,_id:e}),e}update(t={},e){this.collection.findAndUpdate(t,(t=>{e="function"===typeof e?e(t):e,Object.assign(t,e)}))}delete(t={}){this.collection.findAndRemove(t)}}var d=l.getInstance();const f="story";async function m(t){const e=d.table(f).find(t);return{success:!0,data:e}}async function h(t){const e=d.table(f).findOne({_id:t});return{success:!0,data:e}}async function v(t){const e=d.table(f).insert(t);return{success:!0,data:{_id:e}}}async function x(t,e){return d.table(f).update({_id:t},e),{success:!0}}async function b(t){return d.table(f).delete({_id:t}),{success:!0}}},ACnJ:function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var c=n("rePB"),a=n("wx14"),r=["xxl","xl","lg","md","sm","xs"],i={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},o=new Map,s=-1,u={},l={matchHandlers:{},dispatch:function(t){return u=t,o.forEach((function(t){return t(u)})),o.size>=1},subscribe:function(t){return o.size||this.register(),s+=1,o.set(s,t),t(u),s},unsubscribe:function(t){o["delete"](t),o.size||this.unregister()},unregister:function(){var t=this;Object.keys(i).forEach((function(e){var n=i[e],c=t.matchHandlers[n];null===c||void 0===c||c.mql.removeListener(null===c||void 0===c?void 0:c.listener)})),o.clear()},register:function(){var t=this;Object.keys(i).forEach((function(e){var n=i[e],r=function(n){var r=n.matches;t.dispatch(Object(a["a"])(Object(a["a"])({},u),Object(c["a"])({},e,r)))},o=window.matchMedia(n);o.addListener(r),t.matchHandlers[n]={mql:o,listener:r},r(o)}))}};e["a"]=l},C3jO:function(t,e,n){t.exports={container:"container___VZCKj",back:"back___2TiKn",content:"content___D08Zk"}},CWQg:function(t,e,n){"use strict";n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return a}));var c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e},a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}},HDVk:function(t,e,n){t.exports={container:"container___36kXR"}},HLoj:function(t,e,n){"use strict";var c=n("q1tI"),a=n.n(c),r=n("C3jO"),i=n.n(r),o=t=>{const e=t.aspect,n=void 0===e?.618:e,c=t.width,r=t.children;return a.a.createElement("div",{className:i.a.container,style:{width:c}},a.a.createElement("div",{className:i.a.back,style:{paddingBottom:100*n+"%"}}),a.a.createElement("div",{className:i.a.content},r))},s=n("42hf"),u=n.n(s);const l='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="1080" height="1490"><rect fill-opacity="0"/></svg>';e["a"]=t=>{const e=t.cover,n=t.width,c=t.onClick;return a.a.createElement(o,{aspect:1.414,width:n},a.a.createElement("div",{className:u.a.bookCover,onClick:c},a.a.createElement("div",{className:u.a.paper}),a.a.createElement("div",{className:u.a.book},a.a.createElement("div",{className:u.a.cover},a.a.createElement("img",{src:l,style:{backgroundImage:`url(${e})`}}),a.a.createElement("div",{className:u.a.paper})),a.a.createElement("img",{src:l,className:u.a.corner,style:{backgroundImage:`url(${e})`}}))))}},P80f:function(t,e,n){"use strict";var c=n("ODXe"),a=n("q1tI"),r=n("R3zJ");e["a"]=function(){var t=a["useState"](!1),e=Object(c["a"])(t,2),n=e[0],i=e[1];return a["useEffect"]((function(){i(Object(r["a"])())}),[]),n}},R3zJ:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o}));var c,a=n("MNnm"),r=function(){return Object(a["a"])()&&window.document.documentElement},i=function(t){if(r()){var e=Array.isArray(t)?t:[t],n=window.document.documentElement;return e.some((function(t){return t in n.style}))}return!1},o=function(){if(!r())return!1;if(void 0!==c)return c;var t=document.createElement("div");return t.style.display="flex",t.style.flexDirection="column",t.style.rowGap="1px",t.appendChild(document.createElement("div")),t.appendChild(document.createElement("div")),document.body.appendChild(t),c=1===t.scrollHeight,document.body.removeChild(t),c}},SpHs:function(t,e,n){"use strict";n.r(e);n("14J3");var c=n("BMrR"),a=(n("jCWc"),n("kPKH")),r=n("tJVT"),i=n("q1tI"),o=n.n(i),s=n("9kvl"),u=n("VaMr"),l=n("HLoj"),d=n("4469");e["default"]=()=>{const t=Object(i["useState"])([]),e=Object(r["a"])(t,2),n=e[0],f=e[1];Object(i["useEffect"])((()=>{m()}),[]);const m=async()=>{const t=await d["c"]();t.success&&f(t.data)},h=async t=>{s["a"].push({pathname:`/story/${t._id}`,state:t})};return o.a.createElement(u["a"],null,o.a.createElement(c["a"],{gutter:[16,16]},n.map((t=>o.a.createElement(a["a"],{key:t._id,span:12},o.a.createElement(l["a"],{cover:t.cover,onClick:()=>h(t)}))))))}},VaMr:function(t,e,n){"use strict";var c=n("q1tI"),a=n.n(c),r=n("HDVk"),i=n.n(r);e["a"]=function(t){return a.a.createElement("div",{className:i.a.container},t.children)}}}]);