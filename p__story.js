(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([[7],{"+n12":function(t,e,n){"use strict";function a(){let t="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx";return t=t.replace(/x/g,(function(){const t=16*Math.random()|0;return t.toString(16)})),t=t.replace("y",(16*Math.random()&3|8).toString(16)),t.replace(/-/g,"").substr(0,24)}function c(t,e){let n;return function(){n&&clearTimeout(n),n=setTimeout((()=>{t(...arguments)}),e)}}async function r(t){const e=await fetch(`./templates/${t}.json`);return e.json()}n.d(e,"c",(function(){return a})),n.d(e,"a",(function(){return c})),n.d(e,"b",(function(){return r}))},"42hf":function(t,e,n){t.exports={fill:"fill___3WFpF",bookCover:"bookCover___2DsAc",paper:"paper___2EG8l",book:"book___rQ9Ix",cover:"cover___1ECPG"}},4469:function(t,e,n){"use strict";n.d(e,"c",(function(){return m})),n.d(e,"a",(function(){return h})),n.d(e,"b",(function(){return x})),n.d(e,"e",(function(){return b})),n.d(e,"d",(function(){return v}));var a=n("XS3J"),c=n.n(a),r=n("+n12");const i="marry.db",s=Symbol.for("db-instance-key");class o{loadDatabase(t,e){try{const n=localStorage.getItem(t);e(n)}catch(n){e(n)}}saveDatabase(t,e,n){try{localStorage.setItem(t,e),n(null)}catch(a){n(a)}}}const u=new o;class l{static getInstance(){return window[s]||(window[s]=new l),window[s]}constructor(){this.db=new c.a(i,{env:"BROWSER",autosave:!0,adapter:u}),this.db.loadDatabase()}table(t){return this.collection=this.db.getCollection(t)||this.db.addCollection(t),this}find(t={}){return this.collection.find(t)}findOne(t={}){return this.collection.findOne(t)}insert(t){const e=Object(r["c"])();return this.collection.insert({...t,_id:e}),e}update(t={},e){this.collection.findAndUpdate(t,(t=>{e="function"===typeof e?e(t):e,Object.assign(t,e)}))}delete(t={}){this.collection.findAndRemove(t)}}var d=l.getInstance();const f="story";async function m(t){const e=d.table(f).find(t);return{success:!0,data:e}}async function h(t){const e=d.table(f).findOne({_id:t});return{success:!0,data:e}}async function x(t){const e=d.table(f).insert(t);return{success:!0,data:{_id:e}}}async function b(t,e){return d.table(f).update({_id:t},e),{success:!0}}async function v(t){return d.table(f).delete({_id:t}),{success:!0}}},ACnJ:function(t,e,n){"use strict";n.d(e,"b",(function(){return r}));var a=n("rePB"),c=n("wx14"),r=["xxl","xl","lg","md","sm","xs"],i={xs:"(max-width: 575px)",sm:"(min-width: 576px)",md:"(min-width: 768px)",lg:"(min-width: 992px)",xl:"(min-width: 1200px)",xxl:"(min-width: 1600px)"},s=new Map,o=-1,u={},l={matchHandlers:{},dispatch:function(t){return u=t,s.forEach((function(t){return t(u)})),s.size>=1},subscribe:function(t){return s.size||this.register(),o+=1,s.set(o,t),t(u),o},unsubscribe:function(t){s["delete"](t),s.size||this.unregister()},unregister:function(){var t=this;Object.keys(i).forEach((function(e){var n=i[e],a=t.matchHandlers[n];null===a||void 0===a||a.mql.removeListener(null===a||void 0===a?void 0:a.listener)})),s.clear()},register:function(){var t=this;Object.keys(i).forEach((function(e){var n=i[e],r=function(n){var r=n.matches;t.dispatch(Object(c["a"])(Object(c["a"])({},u),Object(a["a"])({},e,r)))},s=window.matchMedia(n);s.addListener(r),t.matchHandlers[n]={mql:s,listener:r},r(s)}))}};e["a"]=l},C3jO:function(t,e,n){t.exports={container:"container___VZCKj",back:"back___2TiKn",content:"content___D08Zk"}},CWQg:function(t,e,n){"use strict";n.d(e,"a",(function(){return a})),n.d(e,"b",(function(){return c}));var a=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e},c=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return e}},HDVk:function(t,e,n){t.exports={container:"container___36kXR"}},HLoj:function(t,e,n){"use strict";var a=n("q1tI"),c=n.n(a),r=n("C3jO"),i=n.n(r),s=t=>{const e=t.aspect,n=void 0===e?.618:e,a=t.width,r=t.children;return c.a.createElement("div",{className:i.a.container,style:{width:a}},c.a.createElement("div",{className:i.a.back,style:{paddingBottom:100*n+"%"}}),c.a.createElement("div",{className:i.a.content},r))},o=n("42hf"),u=n.n(o);const l='data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" width="1080" height="1490"><rect fill-opacity="0"/></svg>';e["a"]=t=>{const e=t.cover,n=t.width,a=t.onClick;return c.a.createElement(s,{aspect:1.414,width:n},c.a.createElement("div",{className:u.a.bookCover,onClick:a},c.a.createElement("div",{className:u.a.paper}),c.a.createElement("div",{className:u.a.book},c.a.createElement("div",{className:u.a.cover},c.a.createElement("img",{src:l,style:{backgroundImage:`url(${e})`}}),c.a.createElement("div",{className:u.a.paper})),c.a.createElement("img",{src:l,className:u.a.corner,style:{backgroundImage:`url(${e})`}}))))}},SpHs:function(t,e,n){"use strict";n.r(e);n("14J3");var a=n("BMrR"),c=(n("jCWc"),n("kPKH")),r=n("tJVT"),i=n("q1tI"),s=n.n(i),o=n("9kvl"),u=n("VaMr"),l=n("HLoj"),d=n("4469");e["default"]=()=>{const t=Object(i["useState"])([]),e=Object(r["a"])(t,2),n=e[0],f=e[1];Object(i["useEffect"])((()=>{m()}),[]);const m=async()=>{const t=await d["c"]();t.success&&f(t.data)},h=async t=>{o["a"].push({pathname:`/story/${t._id}`,state:t})};return s.a.createElement(u["a"],null,s.a.createElement(a["a"],{gutter:[16,16]},n.map((t=>s.a.createElement(c["a"],{key:t._id,span:12},s.a.createElement(l["a"],{cover:t.cover,onClick:()=>h(t)}))))))}},VaMr:function(t,e,n){"use strict";var a=n("q1tI"),c=n.n(a),r=n("HDVk"),i=n.n(r);e["a"]=function(t){return c.a.createElement("div",{className:i.a.container},t.children)}}}]);